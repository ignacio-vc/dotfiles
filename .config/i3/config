# vim: filetype=i3
# Ignacio Vargas' i3-gaps config

###---Constants---###

set $ws1                        "1"
set $ws2                        "2"
set $ws3                        "3"
set $ws4                        "4"
set $ws5                        "5"
set $ws6                        "6"
set $ws7                        "7"
set $ws8                        "8"
set $ws9                        "9"
set $ws10                       "10"
set $music                      st ncmpcpp
set $inc                        ~/.local/bin/pamixer --allow-boost -i 5
set $biginc                     ~/.local/bin/pamixer --allow-boost -i 15
set $dec                        ~/.local/bin/pamixer --allow-boost -d 5
set $bigdec                     ~/.local/bin/pamixer --allow-boost -d 15
set $mute                       ~/.local/bin/pamixer --allow-boost -t
set $micmute                    ~/.local/bin/pamixer --allow-boost -t
set $truemute                   ~/.local/bin/pamixer -m
set $pause                      --no-startup-id mpc toggle
set $trupause                   --no-startup-id mpc pause
set $stop                       --no-startup-id mpc stop
set $next                       --no-startup-id mpc next
set $prev                       --no-startup-id mpc prev
set $lilfor                     --no-startup-id mpc seek +10
set $bigfor                     --no-startup-id mpc seek +120
set $lilbak                     --no-startup-id mpc seek -10
set $bigbak                     --no-startup-id mpc seek -120
set $beg                        --no-startup-id mpc seek 0%
set $mod                        Mod4
set $bg-color                   #2f343f
floating_modifier               $mod

font pango:                     SFNS Display, FontAwesome 12

###---Startup---###

exec --no-startup-id unclutter
exec_always --no-startup-id ~/.config/polybar/launch.sh
bindsym Menu exec --no-startup-id xmodmap -e 'keycode 135 = Super_R' 
exec_always --no-startup-id setxkbmap -option caps:escape

#exec --no-startup-id compton
#exec --no-startup-id exec synclient TouchpadOff=1
#exec "setxkbmap -option 'grp:alt_shift_toggle'"


###---Window Bindings---###

bindsym $mod+Shift+q            kill
bindsym $mod+h                  focus left
bindsym $mod+j                  focus down
bindsym $mod+k                  focus up
bindsym $mod+l                  focus right
bindsym $mod+Left               focus left
bindsym $mod+Down               focus down
bindsym $mod+Up                 focus up
bindsym $mod+Right              focus right
bindsym $mod+Shift+h            move left
bindsym $mod+Shift+j            move down
bindsym $mod+Shift+k            move up
bindsym $mod+Shift+l            move right
bindsym $mod+Shift+Left         move left
bindsym $mod+Shift+Down         move down
bindsym $mod+Shift+Up           move up
bindsym $mod+Shift+Right        move right
bindsym $mod+x                  split v
bindsym $mod+y                  split h
bindsym $mod+f                  fullscreen toggle
#bindsym $mod+s                  layout stacking
bindsym $mod+w                  layout tabbed
bindsym $mod+t                  layout toggle split
bindsym $mod+Shift+space        floating toggle
bindsym $mod+space focus        mode_toggle
bindsym $mod+q                  focus parent
bindsym $mod+a                  focus child
bindsym $mod+Shift+y            resize shrink width 10 px or 10ppt
bindsym $mod+Shift+u            resize grow height 10 px or 10 ppt
bindsym $mod+Shift+i            resize shrink height 10 px or 10 ppt
bindsym $mod+Shift+o            resize grow width 10 px or 10 ppt

###---Restart Bindings---###

bindsym $mod+Shift+c            reload
bindsym $mod+Shift+r            restart

###---Program Bindings---###

bindsym $mod+Shift+f            exec firefox
bindsym $mod+Return             exec st
bindsym $mod+d                  exec rofi -run-list-command ". ~/.config/scripts/fetch_bash_aliases.sh" -run-command "/bin/bash -i -c '{cmd}'" -rnow -show run
bindsym $mod+Shift+e            exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -b 'Yes, exit i3' 'i3-msg exit'"
bindsym $mod+shift+x            exec i3lock --color "$bg-color"
bindsym Print                   exec scrot
bindsym Shift+Print             exec scrot -u
bindsym Ctrl+Shift+Print        exec scrot -s
bindsym $mod+Shift+a            exec pavucontrol
bindsym $mod+e                  exec st neomutt
bindsym $mod+r                  exec st ranger
bindsym $mod+i                  exec st htop 
bindsym $mod+m                  exec $music

###---Media Bindings---###

bindsym XF86AudioMute           exec --no-startup-id $mute
bindsym XF86AudioLowerVolume    exec --no-startup-id $dec
bindsym XF86AudioRaiseVolume    exec --no-startup-id $inc
bindsym XF86AudioPlay           exec --no-startup-id $pause
bindsym XF86AudioStop           exec --no-startup-id $stop
bindsym XF86AudioNext           exec --no-startup-id $next
bindsym XF86AudioPrev           exec --no-startup-id $prev
bindsym $mod+plus               exec $inc
bindsym $mod+Shift+plus         exec $biginc
bindsym $mod+minus              exec $dec
bindsym $mod+Shift+minus        exec $bigdec
bindsym $mod+less               exec $prev
bindsym $mod+Shift+less         exec $beg
bindsym $mod+greater            exec $next
bindsym $mod+Shift+greater      exec $next
bindsym $mod+p                  exec $pause
bindsym $mod+Shift+m            exec $mute
bindsym $mod+bracketleft        exec $lilbak
bindsym $mod+Shift+bracketleft  exec $bigbak
bindsym $mod+bracketright       exec $lilfor
bindsym $mod+Shift+bracketright exec $bigfor

###---Workspaces---###

bindsym $mod+1                  workspace $ws1
bindsym $mod+2                  workspace $ws2
bindsym $mod+3                  workspace $ws3
bindsym $mod+4                  workspace $ws4
bindsym $mod+5                  workspace $ws5
bindsym $mod+6                  workspace $ws6
bindsym $mod+7                  workspace $ws7
bindsym $mod+8                  workspace $ws8
bindsym $mod+9                  workspace $ws9
bindsym $mod+0                  workspace $ws10
bindsym $mod+Shift+1            move container to workspace $ws1
bindsym $mod+Shift+2            move container to workspace $ws2
bindsym $mod+Shift+3            move container to workspace $ws3
bindsym $mod+Shift+4            move container to workspace $ws4
bindsym $mod+Shift+5            move container to workspace $ws5
bindsym $mod+Shift+6            move container to workspace $ws6
bindsym $mod+Shift+7            move container to workspace $ws7
bindsym $mod+Shift+8            move container to workspace $ws8
bindsym $mod+Shift+9            move container to workspace $ws9
bindsym $mod+Shift+0            move container to workspace $ws10

assign [class="st-256color"]    $ws1
assign [class="Firefox"]        $ws2
assign [class="pcmanfm-qt"]     $ws3
assign [class="Steam"]          $ws4
assign [class="steam.exe"]      $ws4
assign [class="aok hd.exe"]     $ws5
assign [class="cuphead.exe"]    $ws5
assign [class="game.exe"]       $ws5
assign [class="devilmaycry4specialedition.exe"] $ws5
assign [class="dungeonoftheendless.exe"]        $ws5
assign [class="application-steam-x32.exe"]      $ws5
for_window [class="warcraft iii.exe"]           move container to workspace $ws5
for_window [class="explorer.exe"]   move container to workspace $ws5
for_window [title="GIMP Startup"]   move container to workspace $ws6
for_window [class="Gimp"]           move container to workspace $ws6
assign [class="audacity"]       $ws6
assign [class="inkscape"]       $ws7
assign [class="Dwarf_Fortress"] $ws7
assign [class="keepassxc"]      $ws8
for_window [class="Spotify"]    move container to workspace $ws10

for_window [class="Lxappearance"] floating enable
for_window [class="Pavucontrol"] floating enable
for_window [class="^Steam$" title="^Friends$"] floating enable
for_window [class="steam.exe" title="^Friends$"] floating enable
for_window [class="^Steam$" title="Steam - News"] floating enable
for_window [class="steam.exe" title="Steam - News"] floating enable
for_window [class="^Steam$" title=".* - Chat"] floating enable
for_window [class="steam.exe" title=".* - Chat"] floating enable
for_window [class="^Steam$" title="^Settings$"] floating enable
for_window [class="steam.exe" title="^Settings$"] floating enable
for_window [class="^Steam$" title=".* - event started"] floating enable
for_window [class="steam.exe" title=".* - event started"] floating enable
for_window [class="^Steam$" title=".* CD key"] floating enable
for_window [class="steam.exe" title=".* CD key"] floating enable
for_window [class="^Steam$" title="^Steam - Self Updater$"] floating enable
for_window [class="steam.exe" title="^Steam - Self Updater$"] floating enable
for_window [class="^Steam$" title="^Screenshot Uploader$"] floating enable
for_window [class="steam.exe" title="^Screenshot Uploader$"] floating enable
for_window [class="^Steam$" title="^Steam Guard - Computer Authorization Required$"] floating enable
for_window [class="steam.exe" title="^Steam Guard - Computer Authorization Required$"] floating enable
for_window [title="^Steam Keyboard$"] floating enable
for_window [window_role="gimp-dock"] floating disable; move left; resize shrink width 50 px or 50ppt
for_window [window_role="gimp-toolbox"] floating disable; move right; resize grow width 30 px or 30ppt

### i3-gaps stuff ###

hide_edge_borders               both
for_window [class="^.*"]        border pixel 0
#for_window [class="^.*"]       border pixel 3
smart_gaps                      on
smart_borders                   on
client.focused_inactive         #000000 #000000 #000000 #000000 #000000
client.unfocused                #000000 #000000 #000000 #000000 #000000
gaps inner                      15
gaps outer                      15
#gaps inner                     12
#gaps outer                     -2

# Gaps mode
set $mode_gaps                  Gaps: (o) outer, (i) inner
set $mode_gaps_outer            Outer Gaps: +|-|0 (local), Shift + +|-|0 (global)
set $mode_gaps_inner            Inner Gaps: +|-|0 (local), Shift + +|-|0 (global)
bindsym $mod+Shift+g            mode "$mode_gaps"

mode "$mode_gaps" {
    bindsym o                   mode "$mode_gaps_outer"
    bindsym i                   mode "$mode_gaps_inner"
    bindsym Return              mode "default"
    bindsym Escape              mode "default"
}

mode "$mode_gaps_inner" {
    bindsym plus                gaps inner current plus 5
    bindsym minus               gaps inner current minus 5
    bindsym 0                   gaps inner current set 0

    bindsym Shift+plus          gaps inner all plus 5
    bindsym Shift+minus         gaps inner all minus 5
    bindsym Shift+0             gaps inner all set 0

    bindsym Return              mode "default"
    bindsym Escape              mode "default"
}

mode "$mode_gaps_outer" {
    bindsym plus                gaps outer current plus 5
    bindsym minus               gaps outer current minus 5
    bindsym 0                   gaps outer current set 0

    bindsym Shift+plus          gaps outer all plus 5
    bindsym Shift+minus         gaps outer all minus 5
    bindsym Shift+0             gaps outer all set 0

    bindsym Return mode         "default"
    bindsym Escape mode         "default"
}

bindsym $mod+Shift+t            gaps inner current set 15; gaps outer current set 0
bindsym $mod+s                  gaps inner current plus 5
bindsym $mod+Shift+s            gaps inner current minus 5
bindsym $mod+Shift+d            gaps inner current set 0; gaps outer current set 0
bindsym $mod+z                  gaps outer current plus 5
bindsym $mod+Shift+z            gaps outer current minus 5
