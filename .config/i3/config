# vim: filetype=i3
# Ignacio Vargas' i3-gaps config

# Constants
set $mod Mod4
set $ws1                        "1:  Terminal"
set $ws2                        "2:  Firefox"
set $ws3                        "3:  Email"
set $ws4                        "4:  Directories"
set $ws5                        "5:  Steam"
set $ws6                        "6:  Editing"
set $ws7                        "7:  Dorfs"
set $ws8                        "8:  KeePassXC"
set $ws9                        "9:  QGIS"
set $ws10                       "10:  Music"
set $inc                        ~/.local/bin/pamixer --allow-boost -i 5
set $biginc                     ~/.local/bin/pamixer --allow-boost -i 15
set $dec                        ~/.local/bin/pamixer --allow-boost -d 5
set $bigdec                     ~/.local/bin/pamixer --allow-boost -d 15
set $mute                       ~/.local/bin/pamixer --allow-boost -t
set $micmute                    ~/.local/bin/pamixer --allow-boost -t
set $truemute                   ~/.local/bin/pamixer -m
set $bg-color                   #2f343f
#set $inactive-bg-color         #2f343f
#set $text-color                #f3f4f5
#set $inactive-text-color       #676E7D
#set $urgent-bg-color           #E53935

# General Configuration
font pango:                     SFNS Display, FontAwesome 12
floating_modifier               $mod

# Window Bindings
bindsym $mod+Shift+q            kill
bindsym $mod+h                  focus left
bindsym $mod+j                  focus down
bindsym $mod+k                  focus up
bindsym $mod+l                  focus right
bindsym $mod+Left               focus left
bindsym $mod+Down               focus down
bindsym $mod+Up                 focus up
bindsym $mod+Right              focus right
bindsym $mod+Shift+h            move left
bindsym $mod+Shift+j            move down
bindsym $mod+Shift+k            move up
bindsym $mod+Shift+l            move right
bindsym $mod+Shift+Left         move left
bindsym $mod+Shift+Down         move down
bindsym $mod+Shift+Up           move up
bindsym $mod+Shift+Right        move right
## split along X axis
bindsym $mod+x                  split v
## split along Y axis
bindsym $mod+y                  split h
bindsym $mod+f                  fullscreen toggle
#bindsym $mod+s                 layout stacking
bindsym $mod+w                  layout tabbed
bindsym $mod+e                  layout toggle split
bindsym $mod+Shift+space        floating toggle
bindsym $mod+space focus        mode_toggle
bindsym $mod+q                  focus parent
bindsym $mod+a                  focus child
bindsym $mod+r                  mode "resize"

mode "resize" {
    bindsym h                   resize shrink width 10 px or 10 ppt
    bindsym j                   resize grow height 10 px or 10 ppt
    bindsym k                   resize shrink height 10 px or 10 ppt
    bindsym l                   resize grow width 10 px or 10 ppt
    bindsym Left                resize shrink width 10 px or 10 ppt
    bindsym Down                resize grow height 10 px or 10 ppt
    bindsym Up                  resize shrink height 10 px or 10 ppt
    bindsym Right               resize grow width 10 px or 10 ppt
    bindsym Return              mode "default"
    bindsym Escape              mode "default"
}

# Restart Bindings
bindsym $mod+Shift+c            reload
bindsym $mod+Shift+r            restart

# Program Bindings
bindsym $mod+Shift+f            exec firefox
bindsym $mod+Return             exec st
bindsym $mod+Shift+Return       exec st -e tmux
bindsym $mod+d                  exec rofi -run-list-command ". ~/.config/scripts/fetch_bash_aliases.sh" -run-command "/bin/bash -i -c '{cmd}'" -rnow -show run
bindsym $mod+Shift+e            exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -b 'Yes, exit i3' 'i3-msg exit'"
bindsym $mod+shift+x            exec i3lock --color "$bg-color"
bindsym Print                   exec --no-startup-id scrot
bindsym Shift+Print             exec --no-startup-id scrot -u
bindsym $mod+Shift+a            exec pavucontrol

# Volume & Media Bindings
bindsym XF86AudioMute           exec --no-startup-id $mute
bindsym XF86AudioLowerVolume    exec --no-startup-id $dec
bindsym XF86AudioRaiseVolume    exec --no-startup-id $inc
bindsym XF86AudioPlay           exec --no-startup-id $pause
bindsym XF86AudioStop           exec --no-startup-id $pause
bindsym XF86AudioNext           exec --no-startup-id $next
bindsym XF86AudioPrev           exec --no-startup-id $prev

# Workspace Bindings
bindsym $mod+1                  workspace $ws1
bindsym $mod+2                  workspace $ws2
bindsym $mod+3                  workspace $ws3
bindsym $mod+4                  workspace $ws4
bindsym $mod+5                  workspace $ws5
bindsym $mod+6                  workspace $ws6
bindsym $mod+7                  workspace $ws7
bindsym $mod+8                  workspace $ws8
bindsym $mod+9                  workspace $ws9
bindsym $mod+0                  workspace $ws10
bindsym $mod+Shift+1            move container to workspace $ws1
bindsym $mod+Shift+2            move container to workspace $ws2
bindsym $mod+Shift+3            move container to workspace $ws3
bindsym $mod+Shift+4            move container to workspace $ws4
bindsym $mod+Shift+5            move container to workspace $ws5
bindsym $mod+Shift+6            move container to workspace $ws6
bindsym $mod+Shift+7            move container to workspace $ws7
bindsym $mod+Shift+8            move container to workspace $ws8
bindsym $mod+Shift+9            move container to workspace $ws9
bindsym $mod+Shift+0            move container to workspace $ws10

# Program Workspaces
assign [class="st-256color"]    $ws1
assign [class="Firefox"]        $ws2
assign [class="Thunderbird"]    $ws3
assign [class="Pcmanfm"]        $ws4
assign [class="Steam"]          $ws5
for_window [title="GIMP Startup"]   move workspace $ws6
for_window [class="Gimp"]           move workspace $ws6
assign [class="audacity"]       $ws6
assign [class="inkscape"]       $ws7
assign [class="Dwarf_Fortress"] $ws7
assign [class="keepassxc"]      $ws8
for_window [class="qgis.bin"]   move to workspace $ws9
for_window [class="Spotify"]    move to workspace $ws10
for_window [class="Wine"]       move to workspace $ws5

# Floating
for_window [class="Lxappearance"] floating enable
for_window [class="Pavucontrol"] floating enable
for_window [class="^Steam$" title="^Friends$"] floating enable
for_window [class="^Steam$" title="Steam - News"] floating enable
for_window [class="^Steam$" title=".* - Chat"] floating enable
for_window [class="^Steam$" title="^Settings$"] floating enable
for_window [class="^Steam$" title=".* - event started"] floating enable
for_window [class="^Steam$" title=".* CD key"] floating enable
for_window [class="^Steam$" title="^Steam - Self Updater$"] floating enable
for_window [class="^Steam$" title="^Screenshot Uploader$"] floating enable
for_window [class="^Steam$" title="^Steam Guard - Computer Authorization Required$"] floating enable
for_window [title="^Steam Keyboard$"] floating enable
for_window [window_role="gimp-dock"] floating disable; move left; resize shrink width 50 px or 50ppt
for_window [window_role="gimp-toolbox"] floating disable; move right; resize grow width 30 px or 30ppt

# Startup Programs
bar {
    status_command i3status
}
exec --no-startup-id compton
exec --no-startup-id unclutter
exec pulseaudio --start
exec_always --no-startup-id feh --bg-scale ~/.config/wallpaper.jpg


### i3-gaps stuff ###

hide_edge_borders               both
for_window [class="^.*"]        border pixel 0
#for_window [class="^.*"]       border pixel 3
smart_gaps                      on
smart_borders                   on
client.focused_inactive         #000000 #000000 #000000 #000000 #000000
client.unfocused                #000000 #000000 #000000 #000000 #000000
gaps inner                      15
gaps outer                      0
#gaps inner                     12
#gaps outer                     -2

# Gaps mode
set $mode_gaps                  Gaps: (o) outer, (i) inner
set $mode_gaps_outer            Outer Gaps: +|-|0 (local), Shift + +|-|0 (global)
set $mode_gaps_inner            Inner Gaps: +|-|0 (local), Shift + +|-|0 (global)
bindsym $mod+Shift+g            mode "$mode_gaps"

mode "$mode_gaps" {
    bindsym o                   mode "$mode_gaps_outer"
    bindsym i                   mode "$mode_gaps_inner"
    bindsym Return              mode "default"
    bindsym Escape              mode "default"
}

mode "$mode_gaps_inner" {
    bindsym plus                gaps inner current plus 5
    bindsym minus               gaps inner current minus 5
    bindsym 0                   gaps inner current set 0

    bindsym Shift+plus          gaps inner all plus 5
    bindsym Shift+minus         gaps inner all minus 5
    bindsym Shift+0             gaps inner all set 0

    bindsym Return              mode "default"
    bindsym Escape              mode "default"
}

mode "$mode_gaps_outer" {
    bindsym plus                gaps outer current plus 5
    bindsym minus               gaps outer current minus 5
    bindsym 0                   gaps outer current set 0

    bindsym Shift+plus          gaps outer all plus 5
    bindsym Shift+minus         gaps outer all minus 5
    bindsym Shift+0             gaps outer all set 0

    bindsym Return mode         "default"
    bindsym Escape mode         "default"
}

bindsym $mod+Shift+t            gaps inner current set 15; gaps outer current set 0
bindsym $mod+s                  gaps inner current plus 5
bindsym $mod+Shift+s            gaps inner current minus 5
bindsym $mod+Shift+d            gaps inner current set 0; gaps outer current set 0
bindsym $mod+z                  gaps outer current plus 5
bindsym $mod+Shift+z            gaps outer current minus 5
